// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

model User {
  id       String  @id @default(cuid())
  email    String  @unique
  password String? @db.Text
  salt     String? @db.Text
  enabled  Boolean @default(false)
}

model Customer {
  id           String               @id @default(cuid())
  firstname    String?
  lastname     String?
  email        String?
  street       String?
  streetnumber String?
  city         String?
  postalcode   String?
  phone        String?
  mobile       String?
  whatsapp     Boolean?
  shoesize     Float?
  disabled     Boolean?
  fibu         Int?
  comment      String?
  salutation   ECustomerSalutation?
  orders       Order[]
  documents    Document[]
}

model Order {
  id           String              @id @default(cuid())
  customerId   String?
  creationDate DateTime            @default(now())
  pending      Boolean             @default(true)
  shippingType EOrderShippingType?
  comment      String?
  price        Float?
  taxes        EOrderTax?
  dueDate      DateTime?
  type         EOrderType?
  brand        String?
  article      String?
  color        String?
  dealer       String?
  size         Float?
  name         String?
  customer     Customer?           @relation(fields: [customerId], references: [id], onDelete: Cascade)
  documents    Document[]
}

model Document {
  id            String    @id @default(cuid())
  customerId    String?
  orderId       String?
  googleId      String?
  name          String?
  creationDate  DateTime  @default(now())
  template      Boolean   @default(false)
  incrementalId Int?
  customer      Customer? @relation(fields: [customerId], references: [id], onDelete: Cascade)
  order         Order?    @relation(fields: [orderId], references: [id], onDelete: Cascade)
}

enum EOrderShippingType {
  Send
  Collect
  Visit
}

enum EOrderType {
  Einlagen
  Einlagenarbeiten
  Abrolloptimierung
  Schuharbeiten
  Massschuhleisten
  Massschuhe
  Schuhbestellung
  Miscellaneous
}

enum EOrderTax {
  Nineteen
  Seven
}

enum ECustomerSalutation {
  Mr
  Mrs
  Diverse
  Company
}
